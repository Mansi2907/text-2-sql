# config.yaml

openai:
  api_key: "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"
  org_id: "org-v1OxfSDLcUhxHFsp1r8SkVtl"

postgres:
  host: "localhost"
  database: "text2sql2"  # âœ…
  user: "postgres"
  password: "root"
  port: 5432
  uri: "postgresql+psycopg2://postgres:root@localhost:5432/text2sql2"

embedding:
  provider: openai
  model: text-embedding-3-small

paths:
  schema_json: embeddings/schema.json
  index_folder: embeddings/faiss_index
  embedding_dir: embeddings
  table_index_folder: embeddings/faiss_table_index
  logs_dir: logs

settings:
  column_top_k: 5
  table_top_k: 3
  value_top_k: 7  # For value-level (categorical) semantic matches
  similarity_threshold: 0.7
  
  # SQL validation settings
  forbidden_sql_keywords:            # Keywords that are not allowed in SQL
    - "insert"
    - "update" 
    - "delete"
    - "drop"
    - "alter"
    - "truncate"
    - "create"
    - "grant"
    - "revoke"
  
  # Column mapping overrides (for known semantic mismatches)
  column_mappings:
    loan_types:
      loan_type_name: loan_type      # Maps 'loan_type_name' to 'loan_type' in loan_types table
  
  # Logging settings
  log_level: INFO
  log_format: "%(asctime)s - %(levelname)s - %(message)s"
  
  # Performance settings
  max_query_timeout: 30              # Maximum query execution time in seconds
  max_result_rows: 1000              # Maximum number of rows to return
  
  # UI settings
  page_title: "Text-to-SQL Agent"
  page_layout: "centered"

llm:
  model: gpt-3.5-turbo
  temperature: 0.0
  max_tokens: 2000                   # Maximum tokens for SQL generation


  
